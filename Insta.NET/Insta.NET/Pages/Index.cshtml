@page
@using InstaDOTNET.Models.Interfaces
@inject IImage ImageManager
@{ 
    Layout = "_Layout";
}
@{
    var images = await ImageManager.GetImagesAsync();
}
@*<div class="center pad-top-m pad-bottom-m">
    <a asp-page="/Images/Manage" class="button hover-shadow">+ Add a Post</a>
</div>*@
<main>
    @foreach (var image in images)
    {
        <div class="pad-bottom-m pad-top-s pad-left-s pad-right-s frame">
            <div class="polaroid hover-shadow pad-bottom-s ">
                <img src="@image.URL" class="thin-border" />
                <div class="flex-row-container space-between">
                    <h2><a asp-page="/Images/Index" asp-route-id="@image.ID" class="text-red a">@image.Name</a></h2>
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                    <script>
                    $(document).ready(function () {
                        $(".unclicked").ready(function () {
                            $(".clicked").hide();
                        });
                        $(".unclicked").click(function () {
                            $(".unclicked").hide();
                            $(".clicked").show();
                        });
                        $(".clicked").click(function () {
                            $(".clicked").hide();
                            $(".unclicked").show();
                        })
                    });
                    </script>
                    <i class="far fa-heart unclicked"></i>
                    <i class="fa fa-heart clicked text-red"></i>
                </div>
                <table>
                    <tbody>
                        <tr class="pad-bottom-xs text-s">
                            <td class="pad-right-xs bold">By:</td>
                            <td>@image.Author</td>
                        </tr>
                    </tbody>
                </table>
                <div class="caption text-caption pad-top-xs scrollable">"@image.Caption"</div>
            </div>
        </div>
    }
</main>
